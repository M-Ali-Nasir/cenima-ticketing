(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{8744:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/booking/[id]",function(){return r(8359)}])},3456:function(e,s,r){"use strict";var a=r(5893),t=function(e){var s=e.children,r=e.variant,t=e.className,n=e.padding;return(0,a.jsx)("div",{className:"".concat("rounded-lg overflow-hidden"," ").concat({default:"bg-white",elevated:"bg-white shadow-lg",outlined:"bg-white border border-gray-200"}[void 0===r?"default":r]," ").concat({none:"",sm:"p-3",md:"p-5",lg:"p-7"}[void 0===n?"md":n]," ").concat(void 0===t?"":t),children:s})};t.Header=function(e){var s=e.children,r=e.className;return(0,a.jsx)("div",{className:"mb-4 ".concat(void 0===r?"":r),children:s})},t.Title=function(e){var s=e.children,r=e.className;return(0,a.jsx)("h3",{className:"text-xl font-bold ".concat(void 0===r?"":r),children:s})},t.Subtitle=function(e){var s=e.children,r=e.className;return(0,a.jsx)("h4",{className:"text-gray-600 text-sm mt-1 ".concat(void 0===r?"":r),children:s})},t.Body=function(e){var s=e.children,r=e.className;return(0,a.jsx)("div",{className:"".concat(void 0===r?"":r),children:s})},t.Footer=function(e){var s=e.children,r=e.className;return(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100 ".concat(void 0===r?"":r),children:s})},t.Image=function(e){var s=e.src,r=e.alt,t=e.className;return(0,a.jsx)("div",{className:"w-full ".concat(void 0===t?"":t),children:(0,a.jsx)("img",{src:s,alt:void 0===r?"":r,className:"w-full h-full object-cover"})})},s.Z=t},8359:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return h}});var a=r(9815),t=r(5893),n=r(7294),l=r(1163),c=r(9008),i=r.n(c),d=r(1664),o=r.n(d),m=r(1539),x=r(9114),u=r(3456);function h(){var e=(0,l.useRouter)().query,s=e.id,r=e.showtime,c=(0,n.useState)(null),d=c[0],h=c[1],p=(0,n.useState)(null),j=p[0],f=p[1],g=(0,n.useState)([]),v=g[0],b=g[1],N=(0,n.useState)([]),y=N[0],w=N[1],k=(0,n.useState)(!0),S=k[0],P=k[1],Z=(0,n.useState)(1),_=Z[0],C=Z[1],B=(0,n.useState)(""),M=B[0],A=B[1],T=(0,n.useState)(!1),$=T[0],D=T[1],E=(0,n.useState)(""),F=E[0],O=E[1];(0,n.useEffect)(function(){s&&setTimeout(function(){var e=[];["A","B","C","D","E","F","G","H"].forEach(function(s){for(var r=1;r<=12;r++){var a="A"===s||"B"===s?"premium":"G"===s||"H"===s?"vip":"standard",t="premium"===a?15:"vip"===a?20:12,n=Math.random()>.8?"reserved":"available";e.push({id:"".concat(s).concat(r),row:s,number:r,status:n,type:a,price:t})}}),h({id:s,title:"The Dark Knight",poster:"https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg",duration:"2h 32m"}),f({id:r||"1",time:"7:00 PM",date:"2023-06-15",screen:"Screen 1",format:"IMAX"}),b(e),P(!1)},1e3)},[s,r]);var I=function(e){"reserved"!==e.status&&(y.some(function(s){return s.id===e.id})?w(y.filter(function(s){return s.id!==e.id})):w((0,a.Z)(y).concat([e])))},R=function(){return y.reduce(function(e,s){return e+s.price},0)},W=function(){1===_&&y.length>0?C(2):2===_&&M&&C(3)},H=function(){P(!0),setTimeout(function(){P(!1),D(!0),O("BKG".concat(Math.floor(1e6*Math.random())))},2e3)},L=function(e){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})};return S?(0,t.jsx)(m.Z,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsx)("div",{className:"bg-gray-300 rounded-lg h-[300px]"})}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-6"})]})]})]})})}):d&&j?(0,t.jsxs)(m.Z,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsxs)("title",{children:["Book Tickets for ",d.title," | BigScreenBiz"]}),(0,t.jsx)("meta",{name:"description",content:"Book tickets for ".concat(d.title," at BigScreenBiz")})]}),(0,t.jsx)("div",{className:"bg-gray-100 min-h-screen py-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center ".concat(_>=1?"text-purple-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(_>=1?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"),children:"1"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:"Select Seats"})]}),(0,t.jsx)("div",{className:"w-12 h-1 mx-2 ".concat(_>=2?"bg-purple-600":"bg-gray-200")}),(0,t.jsxs)("div",{className:"flex items-center ".concat(_>=2?"text-purple-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(_>=2?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"),children:"2"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:"Payment"})]}),(0,t.jsx)("div",{className:"w-12 h-1 mx-2 ".concat(_>=3?"bg-purple-600":"bg-gray-200")}),(0,t.jsxs)("div",{className:"flex items-center ".concat(_>=3?"text-purple-600":"text-gray-400"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(_>=3?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"),children:"3"}),(0,t.jsx)("span",{className:"ml-2 font-medium",children:"Confirmation"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,t.jsx)("div",{className:"w-full md:w-auto md:mr-6 mb-4 md:mb-0",children:(0,t.jsx)("img",{src:d.poster,alt:"".concat(d.title," poster"),className:"w-full md:w-32 h-auto rounded-lg shadow"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:d.title}),(0,t.jsxs)("div",{className:"text-gray-600 mb-4",children:[(0,t.jsxs)("p",{children:[L(j.date)," • ",j.time]}),(0,t.jsxs)("p",{children:[j.screen," • ",j.format]}),(0,t.jsxs)("p",{children:["Duration: ",d.duration]})]})]})]})}),$?(0,t.jsxs)(u.Z,{variant:"elevated",className:"p-8 text-center max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Your tickets have been booked successfully."}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-lg font-bold",children:["Booking Number: ",F]})})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Booking Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-left",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Movie"}),(0,t.jsx)("p",{className:"font-medium",children:d.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Date & Time"}),(0,t.jsxs)("p",{className:"font-medium",children:[L(j.date)," • ",j.time]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Screen"}),(0,t.jsxs)("p",{className:"font-medium",children:[j.screen," • ",j.format]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Seats"}),(0,t.jsx)("p",{className:"font-medium",children:y.map(function(e){return"".concat(e.row).concat(e.number)}).join(", ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Amount"}),(0,t.jsxs)("p",{className:"font-bold",children:["$",R().toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Payment Method"}),(0,t.jsx)("p",{className:"font-medium",children:M})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)(x.Z,{variant:"outline",children:"Back to Home"})}),(0,t.jsx)(o(),{href:"/movies",children:(0,t.jsx)(x.Z,{variant:"primary",children:"Browse More Movies"})})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[1===_&&(0,t.jsxs)(u.Z,{variant:"elevated",className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Select Your Seats"}),(0,t.jsxs)("div",{className:"relative mb-10",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-300 rounded-lg w-full mb-2 transform perspective-500 rotateX-40"}),(0,t.jsx)("p",{className:"text-center text-gray-500 text-sm",children:"SCREEN"})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"grid grid-cols-12 gap-2 mb-6",children:v.map(function(e){return(0,t.jsx)("button",{onClick:function(){return I(e)},disabled:"reserved"===e.status,className:"\n                              w-6 h-6 rounded-t-lg flex items-center justify-center text-xs font-medium\n                              ".concat("reserved"===e.status?"bg-gray-300 cursor-not-allowed":"selected"===e.status||y.some(function(s){return s.id===e.id})?"bg-purple-600 text-white":"premium"===e.type?"bg-blue-100 hover:bg-blue-200":"vip"===e.type?"bg-yellow-100 hover:bg-yellow-200":"bg-gray-100 hover:bg-gray-200","\n                            "),title:"".concat(e.row).concat(e.number," - $").concat(e.price),children:e.number},e.id)})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-gray-100 rounded-t-sm mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Available ($12)"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-blue-100 rounded-t-sm mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Premium ($15)"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-yellow-100 rounded-t-sm mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"VIP ($20)"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-purple-600 rounded-t-sm mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Selected"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-gray-300 rounded-t-sm mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Reserved"})]})]})]})]}),2===_&&(0,t.jsxs)(u.Z,{variant:"elevated",className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Payment Method"}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer ".concat("credit_card"===M?"border-purple-500 bg-purple-50":"border-gray-200"),onClick:function(){return A("credit_card")},children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat("credit_card"===M?"border-purple-500":"border-gray-300"," flex items-center justify-center mr-3"),children:"credit_card"===M&&(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Credit / Debit Card"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Pay securely with your card"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-6 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"w-10 h-6 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"w-10 h-6 bg-gray-200 rounded"})]})]})}),(0,t.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer ".concat("paypal"===M?"border-purple-500 bg-purple-50":"border-gray-200"),onClick:function(){return A("paypal")},children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat("paypal"===M?"border-purple-500":"border-gray-300"," flex items-center justify-center mr-3"),children:"paypal"===M&&(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:"PayPal"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Pay with your PayPal account"})]}),(0,t.jsx)("div",{className:"w-16 h-6 bg-gray-200 rounded"})]})}),(0,t.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer ".concat("apple_pay"===M?"border-purple-500 bg-purple-50":"border-gray-200"),onClick:function(){return A("apple_pay")},children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat("apple_pay"===M?"border-purple-500":"border-gray-300"," flex items-center justify-center mr-3"),children:"apple_pay"===M&&(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Apple Pay"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Pay with Apple Pay"})]}),(0,t.jsx)("div",{className:"w-16 h-6 bg-gray-200 rounded"})]})})]})]}),3===_&&(0,t.jsxs)(u.Z,{variant:"elevated",className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Review Your Order"}),(0,t.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,t.jsxs)("div",{className:"border-b pb-4",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Movie Details"}),(0,t.jsx)("p",{className:"text-gray-600",children:d.title}),(0,t.jsxs)("p",{className:"text-gray-600",children:[L(j.date)," • ",j.time]}),(0,t.jsxs)("p",{className:"text-gray-600",children:[j.screen," • ",j.format]})]}),(0,t.jsxs)("div",{className:"border-b pb-4",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Selected Seats"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(function(e){return(0,t.jsxs)("div",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:[e.row,e.number," - $",e.price]},e.id)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Payment Method"}),(0,t.jsx)("p",{className:"text-gray-600",children:"credit_card"===M?"Credit / Debit Card":"paypal"===M?"PayPal":"Apple Pay"})]})]}),(0,t.jsxs)(x.Z,{variant:"primary",size:"lg",isFullWidth:!0,onClick:H,isLoading:S,children:["Pay $",R().toFixed(2)]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(u.Z,{variant:"elevated",className:"p-6 sticky top-24",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Tickets (",y.length,")"]}),(0,t.jsxs)("span",{children:["$",R().toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Booking Fee"}),(0,t.jsx)("span",{children:"$1.50"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,t.jsxs)("span",{children:["$",(.08*R()).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"border-t pt-4 flex justify-between font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",(R()+1.5+.08*R()).toFixed(2)]})]})]}),_<3&&(0,t.jsx)(x.Z,{variant:"primary",size:"lg",isFullWidth:!0,onClick:W,disabled:1===_&&0===y.length||2===_&&!M,children:1===_?"Continue to Payment":"Review Order"}),_>1&&(0,t.jsxs)("button",{className:"mt-4 text-center w-full text-purple-600 hover:text-purple-700",onClick:function(){return C(_-1)},children:["Back to ",2===_?"Seat Selection":"Payment"]})]})})]})]})})]}):(0,t.jsx)(m.Z,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Movie Not Found"}),(0,t.jsx)("p",{className:"mb-8",children:"The movie you're looking for could not be found."}),(0,t.jsx)(o(),{href:"/movies",children:(0,t.jsx)(x.Z,{variant:"primary",children:"Browse Movies"})})]})})}},943:function(e,s,r){"use strict";function a(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,a=Array(s);r<s;r++)a[r]=e[r];return a}r.d(s,{Z:function(){return a}})},3375:function(e,s,r){"use strict";function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(s,{Z:function(){return a}})},9815:function(e,s,r){"use strict";r.d(s,{Z:function(){return l}});var a=r(943),t=r(3375),n=r(1566);function l(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||(0,t.Z)(e)||(0,n.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});var a=r(943);function t(e,s){if(e){if("string"==typeof e)return(0,a.Z)(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return(0,a.Z)(e,s)}}}},function(e){e.O(0,[89,490,774,888,179],function(){return e(e.s=8744)}),_N_E=e.O()}]);